C51 COMPILER V9.02   TIME                                                                  03/31/2018 10:37:24 PAGE 1   


C51 COMPILER V9.02, COMPILATION OF MODULE TIME
OBJECT MODULE PLACED IN ..\output\time.obj
COMPILER INVOKED BY: F:\KEIL4\C51\BIN\C51.EXE ..\source\time.c COMPACT BROWSE DEBUG OBJECTEXTEND PRINT(..\output\time.ls
                    -t) OBJECT(..\output\time.obj)

line level    source

   1          #include "config.h"
   2          #include "led.h"
   3          #include "ds1302.h"
   4          #include "ds18b20.h"
   5          
   6          struct sTime buffTime;
   7          
   8          void RefreshTime(bit sta)
   9          {
  10   1              if(sta)
  11   1              {
  12   2                      GetRealTime(&buffTime);
  13   2              }               
  14   1      
  15   1              LedBuff[7] = LedChar[buffTime.hour>>4];
  16   1              LedBuff[6] = LedChar[buffTime.hour&0x0F];
  17   1              LedBuff[5] = 0xBF;
  18   1              LedBuff[4] = LedChar[buffTime.min>>4];
  19   1              LedBuff[3] = LedChar[buffTime.min&0x0F];
  20   1              LedBuff[2] = 0xBF;
  21   1              LedBuff[1] = LedChar[buffTime.sec>>4];
  22   1              LedBuff[0] = LedChar[buffTime.sec&0x0F];
  23   1      }
  24          
  25          void RefreshTemp()
  26          {
  27   1              int temp, bufTemp;
  28   1      
  29   1              Get18B20Temp(&temp);
  30   1              Start18B20();
  31   1              temp >>= 4;
  32   1              
  33   1              if((temp>0) && (temp<99))
  34   1              {
  35   2                      bufTemp = temp;
  36   2              }
  37   1      
  38   1              LedBuff[2] = LedChar[bufTemp/10];
  39   1              LedBuff[1] = LedChar[bufTemp%10];
  40   1              LedBuff[0] = 0xC6; 
  41   1      }
  42          
  43          void KeyAction(u8 keycode)
  44          {
  45   1              static u8 add = 0;
  46   1      
  47   1              if(keycode == '0')
  48   1              {
  49   2                      ShowNumber(++add);      
  50   2              }
  51   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
C51 COMPILER V9.02   TIME                                                                  03/31/2018 10:37:24 PAGE 2   

   CODE SIZE        =    222    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =      9       4
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----       1
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
